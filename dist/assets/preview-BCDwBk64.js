import{_ as N,b as I,a as R,r as i,M as z,N as p,w as F,C as M,d as $,o as d,e as m,j as t,F as j,E as A,I as G,t as w,i as l,G as _,H as h,f as H,h as J,q as K,bT as O}from"./index-C27tGZCI.js";import{i as P}from"./ic_duan-B8BCL1A9.js";const Q={id:"viewBox"},U={class:"btnList"},X={class:"btnS"},Y=["onClick"],Z=["src"],ee={class:"iframeBox",id:"iframeBox"},te={__name:"preview",props:{codeView:{type:String,required:!1,default:""},urlData:{type:String,required:!1,default:""},modelValue:{type:String,required:!1,default:""},isShowView:{type:Boolean,required:!1,default:""},styleWidth:{type:Number,required:!1,default:""}},emits:["update:modelValue","show"],setup(y,{expose:b,emit:C}){const g=I();R();const k=i(""),s=i(null),c=i(0),B=z({btnLists:[{name:"端渲染",icon:P,active:!1}]}),S=y,V=C,{codeView:se,urlData:oe,modelValue:v,isShowView:W,styleWidth:q}=p(S),{btnLists:x}=p(B);k.value=v.value,F(()=>v.value,(e,o)=>{s.value.contentWindow.document.close(),s.value.contentWindow.location.reload(),D(e)},{deep:!0});const D=e=>{setTimeout(()=>{s.value.contentWindow.document.open(),s.value.contentWindow.document.write(e),s.value.contentWindow.document.close()},100)},T=()=>{g.push("/system")},E=e=>{V("show")},L=(e,o)=>{c.value=o},r=i(""),f=()=>{const e=document.querySelector("#preview2"),u=(e.contentDocument||e.contentWindow.document).title;r.value=u};return M(()=>{s.value.addEventListener("load",f)}),b({getIframeTitle:f}),(e,o)=>{const u=$("el-button");return d(),m("div",Q,[t("div",U,[t("div",X,[(d(!0),m(j,null,A(l(x),(n,a)=>(d(),m("div",{class:G(["btnS",c.value==0&&a==0?"selectCss":c.value==1&&a==1?"selectCss2":""]),style:{padding:"5px"},onClick:ne=>L(n,a),key:a},[t("img",{class:"cloudImg",src:n.icon,alt:""},null,8,Z),t("div",null,w(n.name),1)],10,Y))),128))]),_(t("div",{class:"btn-title"},w(r.value),513),[[h,l(q)<=50&&r.value]]),t("div",null,[H(u,{size:"small",icon:l(O),type:"primary",onClick:T},{default:J(()=>[K("返回列表")]),_:1},8,["icon"])])]),t("div",ee,[t("iframe",{ref_key:"preview2",ref:s,id:"preview2"},null,512)]),_(t("div",{class:"lookCode",onClick:o[0]||(o[0]=n=>E())}," 查看源码 ",512),[[h,!l(W)]])])}}},le=N(te,[["__scopeId","data-v-d4699ba6"]]);export{le as default};
